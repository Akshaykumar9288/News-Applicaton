<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeLeaf.org" th:replace="~{base::Layout(~{::section})}">
<head>
    <meta charset="UTF-8">
   <section>
       <style>
           .my-card{
               padding:20px;
               background:#ffffff;
           }
           .password-container {
               position: relative;
           }

           .eye-icon {
               position: absolute;
               right: 27px;
               top: 55%;
               transform: translateY(-50%);
               cursor: pointer;
           }
           #password_field {
               padding-right: 30px;
           }
       </style>
   </section>


</head>
<body>
<section>
    <div class="container">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <div class="my-card mt-1">
                    <div th:if="${message}" class="alert alert-primary" role="alert">
                        <p th:text="${message}"></p>
                    </div>
                    <div th:if="${error}" class="alert alert-danger" role="alert">
                        <p th:text="${error}"></p>
                    </div>
                    <h1 class="text-center">SignUp</h1>
                    <form  action="" th:action="@{/do_register}" method="post" >
                        <!-- name field -->
                        <div class="form-group">
                            <label for="name_field">Your Name</label>
                            <input type="text" class="form-control " id="name_field" aria-describedby="emailHelp" placeholder="Enter Your Name" required name="name" >
                            <div class="invalid-feedback">Please enter your name
                            </div>
                        </div>
                        <!-- email field -->
                        <div class="form-group">
                            <label for="email_field">Your Email</label>
                            <input type="email" class="form-control" id="email_field" aria-describedby="emailHelp" placeholder="Enter Your Email" required name="email">
                            <div class="invalid-feedback">
                                Please enter valid email
                            </div>
                        </div>
                        <!-- password field -->
                        <div class="password-container">
                            <label for="password_field">Your Password</label>
                            <input type="password" class="form-control" id="password_field" aria-describedby="emailHelp" placeholder="Enter Your password" required name="password">
                            <span class="eye-icon" id="togglePassword">&#x1F441;</span>
                            <div class="invalid-feedback">
                                password is required
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block mt-3">Submit</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    </section>

<section>
    <script>
        const passwordField = document.getElementById('password_field');
        const togglePassword = document.getElementById('togglePassword');

        togglePassword.addEventListener('click', function () {
            const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordField.setAttribute('type', type);
            // Change eye icon based on password visibility
            togglePassword.innerHTML = type === 'password' ? '&#x1F441;' : '&#x1F440;';
        });
    </script>
</section>
</body>
</html>
